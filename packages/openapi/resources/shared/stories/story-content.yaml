# See: https://www.storyblok.com/docs/api/management/components/possible-field-types
# See: https://www.storyblok.com/docs/api/management/components/the-component-object
#
# story.content is the runtime representation of a component instance.
# A component defines a schema (field names + field types); story.content
# holds the resolved values for those fields, plus the mandatory _uid and
# component properties.
#
# Because the set of fields is user-defined (varies per component), the
# object uses additionalProperties to allow arbitrary keys whose values
# correspond to the possible field type outputs listed below.
type: object
description: >-
  Content object representing a component instance. Contains a _uid,
  a component technical name, and dynamic fields whose values depend on
  the component's schema field types (text, textarea, richtext, markdown,
  number, datetime, boolean, option, options, asset, multiasset, multilink,
  bloks, table, section, custom/plugin).
required:
  - _uid
  - component
properties:
  _uid:
    type: string
    format: uuid
    description: Unique identifier for this component instance
  component:
    type: string
    description: Technical name of the component (content type or nestable block)
  _editable:
    type: string
    description: Storyblok editor markup string for inline editing (present in draft/preview mode)
additionalProperties:
  oneOf:
    # Simple field types (primitives)
    - type: string
      description: Text, textarea, markdown, datetime, or single-option field
    - type: number
      description: Number field
    - type: boolean
      description: Boolean field
    # Array field types
    - type: array
      description: Multi-options (array of strings), multi-assets, references (array of UUIDs), or bloks (array of components)
      items:
        oneOf:
          - type: string
            description: Option value or UUID reference
          - $ref: ./field-types/asset-field.yaml
            description: Multi-asset item
          - $ref: '#'
            description: Nested component (blok)
    # Complex field types (objects with fieldtype discriminator)
    - $ref: ./field-types/asset-field.yaml
    - $ref: ./field-types/multilink-field.yaml
    - $ref: ./field-types/table-field.yaml
    - $ref: ./field-types/richtext-field.yaml
    - $ref: ./field-types/plugin-field.yaml
